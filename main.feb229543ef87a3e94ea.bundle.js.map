{"version":3,"sources":["webpack:///./src/stories/styles.ts","webpack:///./src/stories/Default.tsx","webpack:///./src/components/FocusOnScroll.tsx","webpack:///./src/helpers/config.ts","webpack:///./src/stories/SmallSizedSections.tsx","webpack:///./.storybook/config.js","webpack:///./src/stories sync .ts*","webpack:///./node_modules/nested-object-assign/lib sync ^\\.\\/.*$","webpack:///./src/helpers/utils.ts"],"names":["exports","centeredStyles","display","alignItems","justifyContent","height","fontSize","color","fontFamily","inputStyles","Object","assign","marginLeft","padding","React","__webpack_require__","react_1","react_2","addon_info_1","addon_actions_1","FocusOnScroll_1","styles_1","stories","storiesOf","module","addDecorator","withKnobs","add","withInfo","source","inline","createElement","default","focusOn","text","onFocus","action","style","background","name","placeholder","config_1","utils_1","FocusOnScroll","Component","[object Object]","props","super","this","debounceResizeHandler","debounce","scrollHandler","DELAY_TIME_IN_MS","throttleScrollHandler","throttle","getInlineStyles","focused","opacity","transition","focusOnHandler","focusIndex","focusElement","document","getElementById","getBoundingClientRect","scrollPosition","Math","max","offsetTop","window","innerHeight","setState","focusOnTriggered","scrollTo","top","left","behavior","setFocusIndex","setTimeout","inputClickHandler","event","tagName","target","SUPPORTED_TAGS_FOR_FOCUS","includes","toLowerCase","state","childElement","selectedSection","getClosest","id","findFocusElement","renderSections","children","Children","map","element","index","getFocusIndex","focusedClassName","key","className","debounceResizeHandlerRef","throttleScrollHandlerRef","addEventListener","prevProps","removeEventListener","cancel","onClick","ID_PREFIX","req","require","configure","keys","forEach","filename","./Default","./Default.tsx","./SmallSizedSections","./SmallSizedSections.tsx","./styles","./styles.ts","webpackContext","webpackContextResolve","e","Error","code","resolve","./nestedObjectAssign","./nestedObjectAssign.js","sectionNodes","getElementsByClassName","sections","Array","prototype","slice","call","totalHeight","body","offsetHeight","length","scrollY","focusPoint","section","bottom","fn","wait","timeout","resolver","context","args","arguments","clearTimeout","apply","throttled","Number","selector","Element","matches","msMatchesSelector","webkitMatchesSelector","documentElement","contains","ancestor","parentElement"],"mappings":"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","file":"main.feb229543ef87a3e94ea.bundle.js","sourcesContent":["export const centeredStyles = {\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  height: '50%',\n  fontSize: 48,\n  color: '#414141',\n  fontFamily: 'sans-serif',\n};\n\nexport const inputStyles = {\n  ...centeredStyles,\n  height: 24,\n  fontSize: 16,\n  marginLeft: '38%',\n  padding: 8,\n};\n","import * as React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs, text } from '@storybook/addon-knobs/react';\nimport { withInfo } from '@storybook/addon-info';\nimport { action } from '@storybook/addon-actions';\n\nimport FocusOnScroll from '../components/FocusOnScroll';\nimport { centeredStyles, inputStyles } from './styles';\n\nconst stories = storiesOf('ReactFocusOnscroll', module);\n\nstories.addDecorator(withKnobs);\n\nstories.add('Basic Example', withInfo({\n  source: false,\n  inline: true,\n})(() => {\n  return (\n    <FocusOnScroll\n      focusOn={text('focusOn', '')}\n      onFocus={action('On Focus Index')}\n    >\n      <div  style={{ height: 500, background: '#00E4E4' }}>\n        <div style={centeredStyles}>0</div>\n      </div>\n      <div  style={{ height: 500, background: '#8DE2E0' }}>\n        <div style={centeredStyles}>1</div>\n        <input\n          name='input1'\n          placeholder='Enter your first input'\n          style={inputStyles}\n        />\n      </div>\n      <div  style={{ height: 600, background: '#E40000' }}>\n        <div  style={centeredStyles}>2</div>\n        <input\n          name='input2'\n          placeholder='Enter your second input'\n          style={inputStyles}\n        />\n      </div>\n      <div  style={{ height: 200, background: '#009100' }}>\n        <div  style={centeredStyles}>3</div>\n      </div>\n      <div  style={{ height: 200, background: '#ED710B' }}>\n        <div  style={centeredStyles}>4</div>\n      </div>\n      <div  style={{ height: 500, background: '#F9F3E9' }}>\n        <div style={centeredStyles}>5</div>\n      </div>\n      <div  style={{ height: 500, background: '#A9A379' }}>\n        <div style={centeredStyles}>6</div>\n      </div>\n    </FocusOnScroll>\n  );\n}));\n","import * as React from 'react';\n\nimport {\n  DELAY_TIME_IN_MS,\n  SUPPORTED_TAGS_FOR_FOCUS,\n} from '../helpers/config';\nimport {\n  findFocusElement,\n  getClosest,\n  getFocusIndex,\n  throttle,\n  debounce,\n} from '../helpers/utils';\n\nimport {\n  IFocusOnScrollProps,\n  IFocusOnScrollState,\n} from '../@types';\n\nclass FocusOnScroll extends React.Component<IFocusOnScrollProps, IFocusOnScrollState> {\n  private debounceResizeHandlerRef: any;\n  private throttleScrollHandlerRef: any;\n\n  constructor(props: IFocusOnScrollProps) {\n    super(props);\n    this.state = {\n      focusIndex: getFocusIndex(this.props.focusOn),\n      /*\n       * focusOnTriggered: This field prevents scroll event listener to execute\n       * when user specified focused index. It means in focusOnHandler\n       * when we call window.scrollY() function it prevents triggering scroll event\n       */\n      focusOnTriggered: false,\n    };\n  }\n  private debounceResizeHandler = () => debounce(this.scrollHandler, DELAY_TIME_IN_MS);\n  private throttleScrollHandler = () => throttle(this.scrollHandler, DELAY_TIME_IN_MS);\n\n  private getInlineStyles = (focused: boolean) => {\n    return {\n      opacity: focused ? 1 : 0.5,\n      transition: 'opacity 0.1s ease-in-out',\n    };\n  }\n\n  public componentDidMount() {\n    this.debounceResizeHandlerRef = this.debounceResizeHandler();\n    this.throttleScrollHandlerRef = this.throttleScrollHandler();\n    window.addEventListener('scroll', this.throttleScrollHandlerRef);\n    window.addEventListener('resize', this.debounceResizeHandlerRef);\n  }\n\n  public componentDidUpdate(prevProps: IFocusOnScrollProps) {\n    if (this.props.focusOn !== prevProps.focusOn) {\n      this.focusOnHandler(getFocusIndex(prevProps.focusOn));\n    }\n  }\n\n  public componentWillUnmount() {\n    window.removeEventListener('scroll', this.throttleScrollHandlerRef);\n    window.removeEventListener('resize', this.debounceResizeHandlerRef);\n    this.debounceResizeHandlerRef.cancel();\n    this.throttleScrollHandlerRef.cancel();\n  }\n\n  public focusOnHandler = (focusIndex: string): void => {\n    const focusElement = document.getElementById(focusIndex);\n    if (!focusElement) {\n      return;\n    }\n    const { height } = focusElement.getBoundingClientRect();\n    const scrollPosition = Math.max((focusElement.offsetTop + (height / 2)) - (window.innerHeight / 2), 1);\n\n    this.setState({\n      focusOnTriggered: true,\n    }, () => {\n      window.scrollTo({\n        top: scrollPosition - 1,\n        left: 0,\n        behavior: 'smooth',\n      });\n      this.setFocusIndex(focusIndex);\n      setTimeout(() => {\n        this.setState({ focusOnTriggered: false });\n      }, DELAY_TIME_IN_MS);\n    });\n  }\n\n  /**\n   * If user clicks on an input field of a blur section\n   *  this handler will automatically focus that section\n   */\n  public inputClickHandler = (event: any): void => {\n    const tagName = event.target && event.target.tagName;\n    const unsuportedTag = (!tagName || !SUPPORTED_TAGS_FOR_FOCUS.includes(tagName.toLowerCase()));\n\n    if (unsuportedTag) {\n      return;\n    }\n\n    const { focusIndex } = this.state;\n    const childElement = event.target;\n    const selectedSection = getClosest(childElement, 'section');\n\n    const alreadyInFocusArea = focusIndex === selectedSection.id;\n    if (!alreadyInFocusArea) {\n       /*\n       * We add this set timeout because on click may modify\n       * the dom element size. So we add a delay to update the\n       * focus section\n       */\n      setTimeout(() => {\n        this.focusOnHandler(selectedSection.id);\n      }, DELAY_TIME_IN_MS);\n    }\n  }\n\n  public scrollHandler = (): void => {\n    if (this.state.focusOnTriggered) {\n      return;\n    }\n    const focusIndex = findFocusElement();\n    if (focusIndex) {\n      this.setFocusIndex(focusIndex);\n    }\n  }\n\n  public setFocusIndex = (focusIndex: string): void => {\n    if (this.state.focusIndex !== focusIndex) {\n      const { onFocus } = this.props;\n      this.setState({ focusIndex });\n      if (typeof onFocus === 'function') {\n        onFocus();\n      }\n    }\n  }\n\n  public renderSections = (): React.ReactNode => {\n    const { children } = this.props;\n\n    return React.Children.map(children, (element, index) => {\n      const id = getFocusIndex(index);\n      const focused = this.state.focusIndex === id;\n      const focusedClassName = focused ? 'focused' : '';\n\n      return (\n        <section\n          id={id}\n          key={id}\n          style={this.getInlineStyles(focused)}\n          className={`rfs-section ${focusedClassName}`}\n        >\n          {element}\n        </section>\n      );\n    });\n  }\n\n  public render(): React.ReactNode {\n    return (\n      <div\n        className={this.props.className || ''}\n        onClick={this.inputClickHandler}\n      >\n        {this.renderSections()}\n      </div>\n    );\n  }\n}\n\nexport default FocusOnScroll;\n","export const DELAY_TIME_IN_MS =  250;\nexport const SUPPORTED_TAGS_FOR_FOCUS: string[] = ['input', 'label', 'select', 'button'];\nexport const ID_PREFIX = 'rfs-section-';\n","import * as React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { withKnobs } from '@storybook/addon-knobs/react';\nimport { withInfo } from '@storybook/addon-info';\n\nimport FocusOnScroll from '../components/FocusOnScroll';\nimport { centeredStyles, inputStyles } from './styles';\n\nconst stories = storiesOf('ReactFocusOnscroll', module);\n\nstories.addDecorator(withKnobs);\n\nstories.add('Small Sized Sections', withInfo({\n  source: false,\n  inline: true,\n})(() => {\n  return (\n    <FocusOnScroll>\n      <div  style={{ height: 70, background: '#00E4E4' }}>\n        <div style={centeredStyles}>0</div>\n      </div>\n      <div  style={{ height: 100, background: '#8DE2E0' }}>\n        <div style={centeredStyles}>1</div>\n        <input\n          style={inputStyles}\n          name='input1'\n          placeholder='Enter your input'\n        />\n      </div>\n      <div  style={{ height: 600, background: '#E40000' }}>\n        <div  style={centeredStyles}>2</div>\n      </div>\n      <div  style={{ height: 200, background: '#009100' }}>\n        <div  style={centeredStyles}>3</div>\n      </div>\n      <div  style={{ height: 200, background: '#ED710B' }}>\n        <div style={centeredStyles}>4</div>\n      </div>\n      <div  style={{ height: 70, background: '#F9F3E9' }}>\n        <div style={centeredStyles}>5</div>\n      </div>\n      <div style={{ height: 80, background: '#A9A379' }}>\n        <div style={centeredStyles}>6</div>\n      </div>\n    </FocusOnScroll>\n  );\n}));\n","import { configure } from '@storybook/react';\n\nconst req = require.context('../src/stories', true, /.ts*/);\n\nfunction loadStories() {\n  req.keys().forEach((filename) => req(filename));\n}\n\nconfigure(loadStories, module);\n","var map = {\n\t\"./Default\": 235,\n\t\"./Default.tsx\": 235,\n\t\"./SmallSizedSections\": 287,\n\t\"./SmallSizedSections.tsx\": 287,\n\t\"./styles\": 130,\n\t\"./styles.ts\": 130\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 465;","var map = {\n\t\"./nestedObjectAssign\": 239,\n\t\"./nestedObjectAssign.js\": 239\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 476;","import {\n  ID_PREFIX,\n} from './config';\n\nexport const findFocusElement = () => {\n  const sectionNodes = document.getElementsByClassName('rfs-section');\n  const sections = Array.prototype.slice.call(sectionNodes);\n  const totalHeight = document.body.offsetHeight - window.innerHeight;\n  if (sections.length === 0) {\n    return '';\n  }\n  if (window.scrollY === 0) {\n    return getFocusIndex(0);\n  }\n  if (window.scrollY >= totalHeight) {\n    return getFocusIndex(sections.length - 1);\n  }\n\n  const focusPoint = window.innerHeight / 2;\n\n  for (const section of sections) {\n    const top = section.getBoundingClientRect().top;\n    const bottom = top + section.getBoundingClientRect().height;\n    if (!(top > focusPoint || bottom < focusPoint)) {\n      return section.id;\n    }\n  }\n  return '';\n};\n\nexport const debounce = (fn: any, wait: number) => {\n  let timeout: any;\n  const resolver = function() {\n    const context = this;\n    const args = arguments;\n    const later = () => {\n      fn.apply(context, args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n  resolver.cancel = function cancel() {\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n  };\n  return resolver;\n};\n\nexport const throttle = (fn: any, wait: number) => {\n  let throttled = false;\n  let context: any;\n  let args: any;\n  let timeout: any;\n\n  const resolver = function() {\n    if (throttled) {\n      args = arguments;\n      context = this;\n      return;\n    }\n    throttled = true;\n    fn.apply(this, arguments);\n    timeout = setTimeout(() => {\n      throttled = false;\n      if (args) {\n        resolver.apply(context, args);\n        args = context = null;\n      }\n    }, wait);\n  };\n  resolver.cancel = function cancel() {\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n  };\n  return resolver;\n};\n\nexport const getFocusIndex = (index: string | number | undefined): string => {\n  const id = Number(index) || 0;\n  const focusIndex = `${ID_PREFIX}${id}`;\n  return focusIndex;\n};\n\nexport const getClosest = (element: any, selector: any) => {\n  if (!Element.prototype.matches) {\n    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n  }\n\n  if (!document.documentElement.contains(element)) {\n    return null;\n  }\n  let ancestor = element;\n  do {\n    if (ancestor.matches(selector)) {\n      return ancestor;\n    }\n    ancestor = ancestor.parentElement;\n  } while (ancestor !== null);\n  return null;\n};\n"],"sourceRoot":""}